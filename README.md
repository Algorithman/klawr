Klawr (WIP)
=======

A set of Unreal Engine 4 plugins that enable the use of C# and other CLI languages such as F# in game projects targeting the Windows platform. The aim of this project is to make it possible to do anything that can currently be done in Blueprints in C#. The minimum required Unreal Engine version is **4.4.0 (preview)**.

Overview
======
**KlawrCodeGeneratorPlugin** generates C# wrappers for UObject subclasses from the reflection information gathered by  **Unreal Header Tool** from UFUNCTION and UPROPERTY decorators in the engine/game source. This is the same reflection information that underpins much of the functionality provided by Blueprints.

**KlawrRuntimePlugin** executes user scripts written in C#, scripts have access to the wrapped UE4 API generated by KlawrCodeGeneratorPlugin. Execution of C# scripts is made possible by an embedded MS CLR host.

Building
======

The build process is a bit convoluted at the moment, the goal is to simplify it once the project reaches a semi-functional state. Meanwhile here are some notes:

ScriptEditorPlugin will only be built with Klawr support enabled if the directory **Engine\Source\ThirdParty\Klawr** exists at the time of the build (this is the expected location of the Klawr CLR host library projects).

The Unreal Header Tool project can be configured to build KlawrCodeGeneratorPlugin automatically, to do so specify **"KlawrCodeGeneratorPlugin"** as one of the **AdditionalPlugins** in **UnrealHeaderTool.Target.cs**. There's  UnrealHeaderToolPatch.diff in the root directory of this repository to do exactly that.

To get Unreal Header Tool to actually use KlawrCodeGeneratorPlugin you have to add/edit the **Plugins** section in **Engine\Programs\UnrealHeaderTool\Saved\Config\Windows\Engine.ini**:
```
[Plugins]
ProgramEnabledPlugins=KlawrCodeGeneratorPlugin
ScriptExcludedModules=ScriptPlugin
ScriptExcludedModules=ScriptEditorPlugin
ScriptExcludedModules=ScriptGeneratorPlugin
```

License
=====
Klawr is licensed under the MIT license.

The pugixml library is used by Klawr to parse XML, pugixml was written by Arseny Kapoulkine and is licensed under the MIT license.
